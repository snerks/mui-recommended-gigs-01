(this["webpackJsonpmui-recommended-gigs-01"]=this["webpackJsonpmui-recommended-gigs-01"]||[]).push([[0],{226:function(e,t,a){e.exports=a(431)},424:function(e,t,a){},431:function(e,t,a){"use strict";a.r(t);a(227),a(236);var n=a(0),r=a.n(n),c=a(58),o=a.n(c),l=(a(424),a(30)),s=a(50),i=a(63),m=a(222),u=a(463),d=a(76),f=a.n(d),E=a(111),h=a(59),p=a(432),g=a(464),b=a(475),v=a(465),y=a(466),w=a(477),D=a(459),j=a(461),k=a(462),O=a(474),x=a(220),M=a.n(x),S=a(433),I=Object(S.a)((function(){return{typographyStyles:{flex:1}}})),T=function(e){var t=e.isDarkMode,a=e.setIsDarkMode,n=I();return r.a.createElement(D.a,{position:"static"},r.a.createElement(j.a,null,r.a.createElement(k.a,{className:n.typographyStyles},"Recommended Gigs"),r.a.createElement(p.a,{title:"use this switch for dark/light mode"},r.a.createElement(M.a,null)),r.a.createElement(O.a,{checked:t,onChange:function(){return a(!t)}})))},z=Object(S.a)((function(e){return{addedTodayNonZero:{backgroundColor:e.palette.success.main,paddingLeft:50,paddingRight:50,borderRadius:5}}})),C=function(e){var t=e.isDarkMode,a=e.setIsDarkMode,c=Object(h.a)(),o=z(),i=Object(n.useState)(!0),m=Object(l.a)(i,2),d=m[0],D=m[1],j=Object(n.useState)({lastUpdated:new Date,shows:[]}),k=Object(l.a)(j,2),O=k[0],x=k[1],M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e.addedDate)return!1;var a=new Date(e.addedDate),n=new Date,r=n.getTime()-a.getTime(),c=864e5,o=t*c,l=r<o;return l};Object(n.useEffect)((function(){(function(){var e=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchShowsInfo"),"https://show01-cd72d.firebaseio.com/.json",e.next=4,fetch("https://show01-cd72d.firebaseio.com/.json");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,console.log("fetchShowsInfo","response",a),x(a),D(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=(O?O.shows.filter((function(e){return M(e,1)})):[]).length,I=S>0;return r.a.createElement(u.a,{theme:c},r.a.createElement(p.a,{elevation:0,square:!0,style:{height:"100vh"}},r.a.createElement(g.a,{container:!0,direction:"column",justify:"center",spacing:4},r.a.createElement(g.a,{item:!0},r.a.createElement(T,{isDarkMode:t,setIsDarkMode:a})),d?r.a.createElement(b.a,{open:!0},r.a.createElement(v.a,{color:"inherit"})):r.a.createElement(g.a,{item:!0,container:!0,direction:"column",spacing:2,justify:"center",alignItems:"stretch"},r.a.createElement(g.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"primary",component:s.b,to:"/giglist/false",fullWidth:!0},r.a.createElement("span",null,"Future Events"),"\xa0"," ",r.a.createElement(w.a,{variant:"default",color:"secondary",size:"small",label:(O?O.shows.filter((function(e){return function(e){if(!e.date)return!1;var t=new Date(e.date);t.setHours(23,59,0,0);var a=new Date;return a.setHours(0,0,0,0),t>=a}(e)})):[]).length}))),r.a.createElement(g.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"secondary",component:s.b,to:"/giglist/false/1",fullWidth:!0},r.a.createElement("div",{className:I?o.addedTodayNonZero:void 0},"Added Today\xa0",r.a.createElement(w.a,{variant:"default",color:"primary",size:"small",label:S})))),r.a.createElement(g.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"secondary",component:s.b,to:"/giglist/false/3",fullWidth:!0},r.a.createElement("span",null,"Added In Last 3 Days"),"\xa0",r.a.createElement(w.a,{variant:"default",color:"primary",size:"small",label:(O?O.shows.filter((function(e){return M(e,3)})):[]).length}))),r.a.createElement(g.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"secondary",component:s.b,to:"/giglist/false/7",fullWidth:!0},r.a.createElement("span",null,"Added In Last 7 Days"),"\xa0",r.a.createElement(w.a,{variant:"default",color:"primary",size:"small",label:(O?O.shows.filter((function(e){return M(e,7)})):[]).length}))),r.a.createElement(g.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"secondary",component:s.b,to:"/giglist/true/-1",fullWidth:!0},r.a.createElement("span",null,"All Events"),"\xa0"," ",r.a.createElement(w.a,{variant:"default",color:"primary",size:"small",label:(O?O.shows:[]).length})))))))},W=a(7),A=a(469),L=a(471),N=a(473),B=a(467),H=a(470),P=a(472),q=a(468),G=a(476),R=Object(W.a)((function(e){return{head:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},body:{fontSize:14}}}))(B.a),J=Object(W.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(q.a),U=Object(A.a)({table:{}}),Z=function(e){var t=Object(h.a)(),a=U(),c=Object(n.useState)(!0),o=Object(l.a)(c,2),s=o[0],i=o[1],m=Object(n.useState)(e.showPastEvents),u=Object(l.a)(m,1)[0],d=Object(n.useState)(e.days),y=Object(l.a)(d,1)[0],D=Object(n.useState)({lastUpdated:new Date,shows:[]}),j=Object(l.a)(D,2),k=j[0],O=j[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://show01-cd72d.firebaseio.com/.json",e.next=3,fetch("https://show01-cd72d.firebaseio.com/.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,O(a),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(e){return!!u||function(e){if(!e.date)return!1;var t=new Date(e.date);t.setHours(23,59,0,0);var a=new Date;return a.setHours(0,0,0,0),t>=a}(e)},M=function(e){return-1===y||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e.addedDate)return!1;var a=new Date(e.addedDate),n=new Date,r=n.getTime()-a.getTime(),c=864e5,o=t*c,l=r<o;return l}(e,y)};return s?r.a.createElement(b.a,{open:!0},r.a.createElement(v.a,{color:"inherit"})):r.a.createElement(H.a,{component:p.a,square:!0},r.a.createElement(L.a,{className:a.table,size:"small","aria-label":"a dense table"},r.a.createElement(P.a,null,r.a.createElement(q.a,null,r.a.createElement(G.a,{smDown:!0},r.a.createElement(R,null,"Day")),r.a.createElement(R,null,"Date"),r.a.createElement(R,null,"Artists"),r.a.createElement(R,null,"Venue"),r.a.createElement(R,null,"\xa0"))),r.a.createElement(N.a,null,function(){var e=k.shows.filter(x);return-1===y?e:e.filter(M)}().map((function(e){return r.a.createElement(J,{key:Math.random()},r.a.createElement(G.a,{smDown:!0},r.a.createElement(R,null,(a=e.date,new Date(a).toLocaleDateString("en-GB",{weekday:"short"})))),r.a.createElement(R,null,function(e){return new Date(e).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})}(e.date)),r.a.createElement(R,null,e.artists.map((function(t){return r.a.createElement("p",{key:"".concat(e.id,".").concat(t.name)},t.name)}))),r.a.createElement(R,null,e.venue),r.a.createElement(R,null,r.a.createElement(g.a,{container:!0,direction:"column",spacing:1},e.isSoldOut&&r.a.createElement(g.a,{item:!0},r.a.createElement(w.a,{style:{backgroundColor:t.palette.warning.main,color:t.palette.warning.contrastText},size:"small",label:"Sold Out"})),e.isCancelled&&r.a.createElement(g.a,{item:!0},r.a.createElement(w.a,{style:{backgroundColor:t.palette.error.main,color:t.palette.error.contrastText},size:"small",label:"Cancelled"})),e.priceText&&0===e.priceText.indexOf("\xa3")&&r.a.createElement(g.a,{item:!0},r.a.createElement(w.a,{style:{backgroundColor:t.palette.info.main,color:t.palette.info.contrastText},size:"small",label:e.priceText})),e.notes&&r.a.createElement(g.a,{item:!0},r.a.createElement("span",{style:{}},e.notes)))));var a})))))},F=function(e){var t=e.isDarkMode,a=e.setIsDarkMode,n=Object(i.f)(),c=n.showPastEvents,o=n.days,l="true"===c,s=void 0===o?-1:+o,m=Object(h.a)();return r.a.createElement(u.a,{theme:m},r.a.createElement(p.a,{elevation:0,square:!0,style:{height:"100%"}},r.a.createElement(g.a,{container:!0,direction:"column",spacing:2},r.a.createElement(g.a,{item:!0},r.a.createElement(T,{isDarkMode:t,setIsDarkMode:a})),r.a.createElement(g.a,{item:!0,container:!0,justify:"center"},r.a.createElement(Z,{showPastEvents:l,days:s})))))},V=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(m.a)({palette:{type:a?"dark":"light",primary:{main:"#0b5994"},secondary:{main:"#1d83c6"}}});return r.a.createElement(u.a,{theme:o},r.a.createElement(s.a,{basename:"/mui-recommended-gigs-01"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,render:function(){return r.a.createElement(C,{isDarkMode:a,setIsDarkMode:c})}}),r.a.createElement(i.a,{path:"/giglist/:showPastEvents/:days?",exact:!0,render:function(){return r.a.createElement(F,{isDarkMode:a,setIsDarkMode:c})}}),r.a.createElement(i.a,{path:"*",render:function(){return r.a.createElement(C,{isDarkMode:a,setIsDarkMode:c})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[226,1,2]]]);
//# sourceMappingURL=main.c447891c.chunk.js.map